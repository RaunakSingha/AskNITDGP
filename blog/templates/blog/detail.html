{% extends 'blog/base.html' %}
{% block title %}{{ post.title }}{% endblock %}
{% block body %}
        <div class="w3-card-4 w3-margin w3-white">
            <div class="w3-container">
              <h3><b>{{ post.title }}</b></h3>
              <h5>{{ post.author }}, <span class="w3-opacity">{{post.publish}}</span></h5>
            </div>

            <div class="w3-container">
              <p>{{ post.body}}</p>
            </div>
        </div>

        <div class="w3-card-4 w3-margin w3-white">
            <div class="w3-container">
                {% with post.comment_set.count as total_comments %}
                    <h2>
                    {{ total_comments }} comment{{ total_comments|pluralize }}
                    </h2>
                {% endwith %}
                {% for comment in comments %}
                    <div class="comment">
                        <p class="info">
                        Comment {{ forloop.counter }} by {{ comment.author }}
                        {{ comment.publish }}
                        </p>
                        {{ comment.body|linebreaks }}
                    </div>
                    {% empty %}
                    <p>There are no comments yet.</p>
                {% endfor %}
              {% if new_comment %}
                <h2>Your comment has been added.</h2>
              {% else %}
                <h2>Add a new comment</h2>
                <form action="." method="post">
                {{ comment_form.as_p }}
                    {% csrf_token %}
                <p><input type="submit" value="Add comment"></p>
                </form>
              {% endif %}
            </div>
        </div>
{% endblock %}
